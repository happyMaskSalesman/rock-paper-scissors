<!DOCTYPE html>
<html>
  <head>
    <title>Rock-Paper-Scissors</title>
    <meta charset="utf-8">
    <link href="style.css" type ="text/css" rel="stylesheet">
  </head>
  <body>
    <div>
      <h2>Choose Your Weapon!</h2>
    </div>
    <div class="buttons">
      <button id="rock">
        <img src='rock.png' width="100px" height="100px">
      </button>
      <button id="paper">
        <img src="paper.png" width="90px;" height="90px">
      </button>
      <button id="scissors">
        <img src="swords.png" width="100px" height="100px">
      </button>
    </div>
    <div class="round">

    </div>
    <div>
      <h2>Ready?? FIGHT!</h2>
    </div>
    <div class="compResults">

    </div>
    <div class="results">

    </div>
    <div class="score">

    </div>
    <div class="rematch">

    </div>
    <script>

    let roundCounter = 0
    let compScore = 0
    let playerScore = 0




    //Button Selectors
    let btnRock = document.querySelector('#rock');
    let btnPaper = document.querySelector('#paper');
    let btnScissors = document.querySelector('#scissors');


    //div selectors
    let round = document.querySelector('.round');
    let compResults = document.querySelector('.compResults');
    let results = document.querySelector('.results');
    let score = document.querySelector('.score');
    let rematch = document.querySelector('.rematch');

    

    //Create elements
    let para = document.createElement('p');
    let head = document.createElement('h4');
    let roundCount = document.createElement('h3');
    let scoreBoard = document.createElement('h4');
    let rematchBtn = document.createElement('button');


    //Events
    btnRock.addEventListener('click', () => {
      para.textContent = newGame('ROCK', computerPlay());
      results.appendChild(para);

      roundCount.textContent = "Round: " + roundUp();
      round.appendChild(roundCount);

      scoreUp();

      scoreBoard.textContent = "SCORE: Computer- " + compScore + " Player- " + playerScore;
      score.appendChild(scoreBoard);

      if (roundCounter === 5) gameResults();
    });


    btnPaper.addEventListener('click', () => {
      para.textContent = newGame('PAPER', computerPlay());
      results.appendChild(para);

      roundCount.textContent = "Round: " + roundUp();
      round.appendChild(roundCount);

      scoreUp();

      scoreBoard.textContent = "SCORE: Computer- " + compScore + " Player- " + playerScore;
      score.appendChild(scoreBoard);

      if (roundCounter === 5) gameResults();
    });


    btnScissors.addEventListener('click', () => {
      para.textContent = newGame('SCISSORS', computerPlay());
      results.appendChild(para);

      roundCount.textContent = "Round: " + roundUp();
      round.appendChild(roundCount);

      scoreUp();

    scoreBoard.textContent = "SCORE: Computer- " + compScore + " Player- " + playerScore;
    score.appendChild(scoreBoard);

    if (roundCounter === 5) gameResults();
    });
      
    //Functions!!

    function newGame(playerSelection, computerSelection) {

      head.textContent = "Computer chose: " + computerSelection;
      compResults.appendChild(head);

    	if(playerSelection === 'ROCK' && computerSelection === 'PAPER') {
	      return "You lose! Paper beats rock";
	    } else if(playerSelection === 'ROCK' && computerSelection === 'SCISSORS') {
	      return "You win! Rock beats scissors";
	    } else if(playerSelection === 'ROCK' && computerSelection === 'ROCK') {
	      return "TIE GAME";
            } else if(playerSelection === 'PAPER' && computerSelection === 'ROCK') {
	      return "You win! Paper beats rock";
            } else if(playerSelection === 'PAPER' && computerSelection === 'SCISSORS') {
	      return "You lose! Scissors beats paper";
    	    } else if(playerSelection === 'PAPER' && computerSelection === 'PAPER') {
	      return "TIE GAME";
	    } else if(playerSelection === 'SCISSORS' && computerSelection === 'ROCK') {
	      return "You lose! Rock beats scissors";
  	    } else if(playerSelection === 'SCISSORS' && computerSelection === 'PAPER') {
	      return "You win! Scissors beats paper";
	    } else if(playerSelection === 'SCISSORS' && computerSelection === 'SCISSORS') {
	      return "TIE GAME";}
    }


    function computerPlay() {
      let choices = ["ROCK", "PAPER", "SCISSORS"];
	    return choices[Math.floor(Math.random()*choices.length)]
      }

    function roundUp() {
      return roundCounter += 1;
    }

    function scoreUp() {
      if (para.textContent.includes('win')) {
        return playerScore += 1;
      } else if (para.textContent.includes('lose')) {
        return compScore += 1;
      }
    }

    function gameResults() {
      if (playerScore > compScore) {
        alert("Congratulations! You are victorious!");
        return rematchGame();
      } else if (compScore > playerScore) {
        alert("Sorry, you lose :(");
        return rematchGame();
      } else {
        alert("TIE GAME.");
        return rematchGame();
      }
    }

    function rematchGame() {
      rematchBtn.textContent = "REMATCH?";
      rematch.appendChild(rematchBtn);
      rematchBtn.id ="rematchGame";

      let btnRematch = document.querySelector('#rematchGame');

      btnRematch.addEventListener('click', () => {
        location.reload();
      });
    }

    </script>
  </body>
</html>
